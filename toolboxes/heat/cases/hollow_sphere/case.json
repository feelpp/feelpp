/**
* Benchmark from Code Aster : TPNV01 - Hollow sphere: convection, radiation
* https://www.code-aster.org/doc/default/en/index.php?man=cas-test
* https://www.code-aster.org/doc/default/en/man_v/v4/v4.43.001.pdf
*/
{
    "Name": "TPNV01 - Hollow sphere: convection, radiation",
    "Parameters":
    {
        "sigma_radiation":5.73e-8,
        "eps":0.6,
        "T0":500
    },
    "Meshes":
    {
        "heat":
        {
            "Import":
            {
                "filename":"$cfgdir/case.geo",
                "hsize":0.01
            }
        }
    },
    "Materials":
    {
        "Omega":
        {
            "k":40,//[ W/(m*K) ]
            "Cp":1, //[ J/(kg*K) ]
            "rho":1 //[ kg/(m^3) ]
        }
    },
    "BoundaryConditions":
    {
        "heat":
        {
            "convective_heat_flux":
            {
                "external_surface":
                {
                    "h":133.5,
                    "Text":20
                }
            },
            "flux":
            {
                "internal_surface":
                {
                    "expr":"sigma_radiation*eps*((T0+273.15)^4-(heat_T+273.15)^4):sigma_radiation:eps:T0:heat_T"
                }
            }
        }
    },
    "PostProcess":
    {
        "heat":
        {
            "Exports":
            {
                "fields":["temperature","pid"]
            },
            "Measures":
            {
                "Normal-Heat-Flux":
                {
                    "external_surface":
                    {
                        "markers":"external_surface",
                        "direction":"outward"//"inward"
                    },
                    "internal_surface":
                    {
                        "markers":"internal_surface",
                        "direction":"inward"
                    }
                },
                "Statistics":
                {
                    "measure_%1%":
                    {
                        "type":"integrate",
                        "expr":1,
                        "markers":"%1%",
                        "index1":["external_surface","internal_surface"]
                    },
                    "external_surface":
                    {
                        "type":["min","max","mean"],
                        "field":"temperature",
                        "markers":"external_surface"
                    },
                    "internal_surface":
                    {
                        "type":["min","max","mean"],
                        "field":"temperature",
                        "markers":"internal_surface"
                    }
                }
            },
            "Checkers":
            {
                "Measures":
                {
                    "Statistics_external_surface_mean":
                    {
                        "value":71.22,
                        "tolerance":1e-3
                    },
                    "Statistics_internal_surface_mean":
                    {
                        "value":91.77,
                        "tolerance":1e-3
                    },
                    "Normal_Heat_Flux_external_surface":
                    {
                        "value":"6838*postprocess_heat_measures_Statistics_measure_external_surface_integrate:postprocess_heat_measures_Statistics_measure_external_surface_integrate",
                        "tolerance":1e-1
                    },
                    "Normal_Heat_Flux_internal_surface":
                    {
                        "value":"11675*postprocess_heat_measures_Statistics_measure_internal_surface_integrate:postprocess_heat_measures_Statistics_measure_internal_surface_integrate",
                        "tolerance":1e-1
                    }
                }
            }
        }
    }
}
