// -*- mode: javascript -*-
{
    "Name":"HL-31_H1",
    "ShortName":"HL-31_H1",
    "Models":
    {
        "equations":[
            {
                "name":"heat",
                "unknown":
                {
                    "basis":"Pch1",
                    "name":"temperature",
                    "symbol":"T"
                }
            },
            {
                "name":"electric",
                "unknown":
                {
                    "basis":"Pch1",
                    "name":"electric-potential",
                    "symbol":"P"
                }
            }
        ]
    },
    "Parameters":
    {
        "sigma0":53e3,
        "T0":290,
        "alpha":3.6e-3,
        "Lorentz":2.47e-8
    },
    "Materials":
    {
        "Cu":
        {
            "sigma":"sigma0/(1+alpha*(heat_T-T0)):sigma0:alpha:T0:heat_T",
            "k":"materials_Cu_sigma*Lorentz*heat_T:materials_Cu_sigma:Lorentz:heat_T",
           // "k":0.370, //[ W/(m*K) ]
           // "sigma":53e3,

            "heat_c":"materials_Cu_k:materials_Cu_k",
            "heat_f":"materials_Cu_sigma*(electric_grad_P_0^2+electric_grad_P_1^2+electric_grad_P_2^2):materials_Cu_sigma:electric_grad_P_0:electric_grad_P_1:electric_grad_P_2",
            "electric_c":"materials_Cu_sigma:materials_Cu_sigma"
        }
    },
    "InitialConditions":
    {
        "temperature":
        {
            "File":
            {
                "myic":
                {
                    "filename":"$repository/toolboxes/coefficientformpdes/thermoelectric/ElectroMagnets_HL-31_H1/np_$np/cfpdes.heat.save/temperature.h5",
                    "format":"hdf5"
                }
            }
        },
        "electric-potential":
        {
            "File":
            {
                "myic":
                {
                    "filename":"$repository/toolboxes/coefficientformpdes/thermoelectric/ElectroMagnets_HL-31_H1/np_$np/cfpdes.electric.save/electric-potential.h5",
                    "format":"hdf5"
                }
            }
        }
    },
    "BoundaryConditions":
    {
        "heat":
        {
            "Robin":
            {
                "Rint":
                {
                    "expr1":"0.085", // h
                    "expr2":"0.085*290" // h*T_c
                },
                "Rext":
                {
                    "expr1":"0.085", // h
                    "expr2":"0.085*290" // h*T_c
                }
            },
            "Neumann":
            {
                "Interface":
                {
                    "expr":"0"
                },
                "GR_1_Interface":
                {
                    "expr":"0"
                }
            }
        },
        "electric":
        {
            "Dirichlet":
            {
                "V0":
                {
                    "expr":"0" // V_in
                },
                "V1":
                {
                    "expr":"9" // V_out
                }
            }
        }
    },
    "PostProcess":
    {
        "use-model-name":1,
        "cfpdes":
        {
            "Exports":
            {
                "fields":"all"//["heat.temperature","electric.electric-potential","electric.electric-field","electric.current-density","pid","materials.electric-conductivity","materials.thermal-conductivity"]
            }
        },
        "heat":
        {
            "Measures":
            {
                "Statistics":
                {
                    "FluxV0":
                    {
                        "type":"integrate",
                        "expr":"-materials_Cu_k*heat_dn_T:materials_Cu_k:heat_dn_T",
                        "markers":"V0"
                    },
                    "FluxV1":
                    {
                        "type":"integrate",
                        "expr":"-materials_Cu_k*heat_dn_T:materials_Cu_k:heat_dn_T",
                        "markers":"V1"
                    },
                    "temp":
                    {
                        "type":["max","mean","min"],
                        "field":"temperature"
                    }
                },
                "Points":
                {
                    "closeToV0":
                    {
                        "coord":"{0.6,22,108}",
                        "fields":"temperature"
                    },
                    "closeToV1":
                    {
                        "coord":"{0.6,22,-226}",
                        "fields":"temperature"
                    },
                    "middle":
                    {
                        "coord":"{0.6,22,0}",
                        "fields":"temperature"
                    }
                }
            },
            "Checkers":
            {
                "Measures":
                {
                    "Statistics_FluxV0_integrate":
                    {
                        "value":3.1061371452223421e+00,
                        "tolerance":1e-1
                    },
                    "Statistics_FluxV1_integrate":
                    {
                        "value":1.9858752627481331e+00,
                        "tolerance":1e-1
                    },
                    "Points_closeToV0_field_temperature":
                    {
                        "value":2.9228730968105037e+02,
                        "tolerance":1e-3
                    },
                    "Points_closeToV1_field_temperature":
                    {
                        "value": 2.9130483450540504e+02,
                        "tolerance":1e-3
                    }
                }
            }
        },
        "electric":
        {
            "Measures":
            {
                "Statistics":
                {
                    "Intensity0":
                    {
                        "type":"integrate",
                        "expr":"-materials_Cu_sigma*electric_dn_P:materials_Cu_sigma:electric_dn_P",
                        "markers":"V0"
                    },
                    "Intensity1":
                    {
                        "type":"integrate",
                        "expr":"-materials_Cu_sigma*electric_dn_P:materials_Cu_sigma:electric_dn_P",
                        "markers":"V1"
                    },
                    "Power":
                    {
                        "type":"integrate",
                        "expr":"materials_Cu_sigma*(electric_grad_P_0^2+electric_grad_P_1^2+electric_grad_P_2^2):materials_Cu_sigma:electric_grad_P_0:electric_grad_P_1:electric_grad_P_2",
                        "markers":"Cu"
                    }
                },
                "Points":
                {
                    "closeToV0":
                    {
                        "coord":"{0.6,22,108}",
                        "fields":"electric-potential"
                    },
                    "closeToV1":
                    {
                        "coord":"{0.6,22,-226}",
                        "fields":"electric-potential"
                    },
                    "middle":
                    {
                        "coord":"{0.6,22,0}",
                        "fields":["electric-potential" ]
                    }
                }
            },
            "Checkers":
            {
                "Measures":
                {
                    "Statistics_Intensity0_integrate":
                    {
                        "value":2.9486355582068285e+04,
                        "tolerance":1e-1
                    },
                    "Statistics_Intensity1_integrate":
                    {
                        "value":-2.9492993990629227e+04,
                        "tolerance":1e-1
                    },
                    "Points_closeToV0_field_electric-potential":
                    {
                        "value":0,
                        "tolerance":1e-3
                    },
                    "Points_closeToV1_field_electric-potential":
                    {
                        "value":9,
                        "tolerance":1e-3
                    }
                }
            }

        }

    }
}
